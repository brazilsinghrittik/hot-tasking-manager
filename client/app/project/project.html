<div class="inner">
    <section class="section">
        <header class="section__header">
            <div class="inner">
                <h1 class="section__title">
                    {{ projectCtrl.project.projectName }}
                </h1>
            </div>
        </header>
        <div class="create-project">
            <div class="sidebar">
                <div class="button-group button-group--horizontal" role="group" aria-label="...">
                    <button ng-click="projectCtrl.currentTab = 'description'" class="button button--achromic"
                            type="button" ng-class="projectCtrl.currentTab == 'description'? 'button--active':''">
                        Description
                    </button>
                    <button ng-click="projectCtrl.currentTab = 'instructions'" class="button button--achromic"
                            type="button" ng-class="projectCtrl.currentTab == 'instructions'? 'button--active':''">
                        Instructions
                    </button>
                    <button ng-click="projectCtrl.currentTab = 'mapping'" class="button button--achromic" type="button"
                            ng-class="projectCtrl.currentTab == 'mapping'? 'button--active':''">Mapping
                    </button>
                </div>
                <div ng-show="projectCtrl.currentTab === 'description'">
                    <h3>Description</h3>
                    <p>some text</p>
                    <button class="button button--secondary" ng-click="projectCtrl.currentTab = 'instructions'">
                        Instructions
                    </button>
                </div>
                <div ng-show="projectCtrl.currentTab === 'instructions'">
                    <h3>Instructions</h3>
                    <button class="button button--secondary" ng-click="projectCtrl.currentTab = 'mapping'">Mapping
                    </button>
                </div>
                <div ng-show="projectCtrl.currentTab === 'mapping'">
                    <div ng-show="projectCtrl.mappingStep === 'select'">
                        <h3>Choose a task</h3>
                        <p>There are 2 options for choosing a task:</p>
                        <p><strong>Option 1: </strong>Select a task by clicking on the map</p>
                        <p><strong>Option 2: </strong>Select a random task
                            <button ng-click="projectCtrl.selectRandomTask()" class="button button--secondary">
                                Select random
                            </button>
                        </p>
                    </div>
                    <div ng-show="projectCtrl.mappingStep === 'view'">
                        <h3>Task #{{ projectCtrl.selectedTask.taskId }} is <strong><span
                                ng-hide="{{ projectCtrl.selectedTask.taskLocked }}">UN</span>LOCKED</strong> and
                            <strong>{{ projectCtrl.selectedTask.taskStatus }}</strong></h3>

                        <div ng-show="projectCtrl.isSelectTaskMappable" class="alert alert--success" role="alert">
                            <p>This task is available for mapping.</p>
                        </div>

                        <div ng-hide="projectCtrl.isSelectTaskMappable" class="alert alert--danger" role="alert">
                            <p>The selected task is not available for mapping.</p>
                        </div>

                        <div>
                            <button ng-show="projectCtrl.isSelectTaskMappable" class="button button--secondary">Start
                                Mapping
                            </button>
                            <button ng-click="projectCtrl.selectRandomTask()" class="button button--secondary">
                                Select another task
                            </button>
                            <button class="button button--secondary" ng-click="projectCtrl.clearCurrentSelection()">
                                Cancel
                            </button>

                        </div>
                        <hr/>
                        <div>
                            <div>
                                <h3>Advanced</h3>
                                <div>Advanced task information and editing options</div>
                            </div>
                            <div>
                                <h5>Details</h5>

                                <div><strong>ID:</strong> #{{ projectCtrl.selectedTask.taskId }}</div>
                                <div><strong>Status:</strong> {{ projectCtrl.selectedTask.taskStatus }}
                                </div>
                                <div><strong>Locked:</strong> {{ projectCtrl.selectedTask.taskLocked }}
                                </div>
                                <div><strong>Difficulty:</strong> TODO</div>
                                <div><strong>Assigned:</strong> TODO</div>
                                <div>
                                    <h5>History</h5>
                                    <div ng-repeat="item in projectCtrl.selectedTask.taskHistory track by $index">
                                        <div><strong>Action: </strong> {{ item.action }}</div>
                                        <div><strong>Date: </strong> {{ item.actionDate }}</div>
                                        <div><strong>Text: </strong> {{ item.actionText }}</div>
                                        <hr/>
                                    </div>
                                </div>
                                <div>
                                    <h5>Options</h5>
                                    <label for="form-select-1">Editor</label>
                                    <select class="form__control form__control--small" id="form-select-1">
                                        <option selected="true">ID Editor</option>
                                        <option>JOSM</option>
                                        <option>Potlach 2</option>
                                        <option>Walking papers</option>
                                        <option>Field papers</option>
                                    </select>
                                    <button class="button button--primary-unbounded">Preview task in OSM ID Editor
                                    </button>
                                    <button class="button button--primary-unbounded">View OSM changesets</button>
                                    <button class="button button--primary-unbounded">View changes in overpass turbo
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div ng-show="projectCtrl.mappingStep === 'none-available'">
                        <div class="alert alert--danger" role="alert">
                            <p>There are no tasks currently available for mapping.</p>
                        </div>
                    </div>
                    <div ng-show="projectCtrl.mappingStep === 'task-get-error'">
                        <div class="alert alert--danger" role="alert">
                            <button class="alert__button-dismiss" title="Dismiss alert" ng-click="projectCtrl.clearCurrentSelection()"><span>Dismiss</span></button>
                            <p>there was an error retreiving the task from the server.</p>
                        </div>
                    </div>

                </div>
            </div>
            <div id="map" class="map-container"></div>
        </div>
    </section>
</div>
